function job = segment(rt2_path, t1_path, tpm_path)
    temp.channel(1).vols = {[rt2_path, ',1']};
    temp.channel(1).biasreg = 0;
    temp.channel(1).biasfwhm = 120;
    temp.channel(1).write = [0 1];
    temp.channel(2).vols = {[t1_path, ',1']};
    temp.channel(2).biasreg = 0;
    temp.channel(2).biasfwhm = 120;
    temp.channel(2).write = [0 0];
    temp.tissue(1).tpm = {[tpm_path, ',1']};
    temp.tissue(1).ngaus = 5;
    temp.tissue(1).native = [1 0];
    temp.tissue(1).warped = [0 0];
    temp.tissue(2).tpm = {[tpm_path, ',2']}; 
    temp.tissue(2).ngaus = 5;
    temp.tissue(2).native = [1 0];
    temp.tissue(2).warped = [0 0];
    temp.tissue(3).tpm = {[tpm_path, ',3']};
    temp.tissue(3).ngaus = 5;
    temp.tissue(3).native = [1 0];
    temp.tissue(3).warped = [0 0];
    temp.tissue(4).tpm = {[tpm_path, ',4']};
    temp.tissue(4).ngaus = 3;
    temp.tissue(4).native = [0 0];
    temp.tissue(4).warped = [0 0];
    temp.tissue(5).tpm = {[tpm_path, ',5']};
    temp.tissue(5).ngaus = 4;
    temp.tissue(5).native = [0 0];
    temp.tissue(5).warped = [0 0];
    temp.tissue(6).tpm = {[tpm_path, ',6']};
    temp.tissue(6).ngaus = 2;
    temp.tissue(6).native = [0 0];
    temp.tissue(6).warped = [0 0];
    temp.warp.mrf = 2;
    temp.warp.cleanup = 1;
    temp.warp.reg = [0 0.001 0.5 0.025 0.1];
    temp.warp.affreg = 'mni';
    temp.warp.fwhm = 0;
    temp.warp.samp = 3;
    temp.warp.write = [0 0];
    job.spm.spatial.preproc = temp;
    spm_jobman('run', {job})
end